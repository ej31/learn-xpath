<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XPath ì‹¤ìŠµ í”Œë ˆì´ê·¸ë¼ìš´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .highlight {
            outline: 3px solid #ef4444 !important; /* ë¹¨ê°„ìƒ‰ í…Œë‘ë¦¬ */
            background-color: rgba(239, 68, 68, 0.1) !important;
            transition: all 0.2s;
        }
        .practice-area {
            border: 2px dashed #cbd5e1;
            padding: 1.5rem;
            margin-top: 1rem;
            border-radius: 0.5rem;
            background-color: #f8fafc;
        }
        .learning-guide {
            background-color: #fffbeb; /* amber-50 */
            border-left: 4px solid #f59e0b; /* amber-500 */
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 0.25rem;
            color: #4b5563;
            font-size: 0.95rem;
        }
        .mission-badge {
            display: inline-block;
            background-color: #dbeafe;
            color: #1e40af;
            font-size: 0.75rem;
            padding: 0.1rem 0.4rem;
            border-radius: 9999px;
            font-weight: bold;
            margin-right: 0.5rem;
        }
        code {
            background-color: #f3f4f6;
            padding: 0.1rem 0.3rem;
            border-radius: 0.2rem;
            font-family: monospace;
            color: #ef4444;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">

    <!-- ìƒë‹¨ ê³ ì •: XPath ì…ë ¥ ë„êµ¬ -->
    <div class="fixed top-0 left-0 w-full bg-white shadow-lg z-50 p-4 border-b border-gray-200">
        <div class="max-w-4xl mx-auto">
            <a href="index.html" class="inline-flex items-center gap-1 text-sm text-gray-500 hover:text-blue-600 font-bold mb-3 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                í•™ìŠµ ì„¼í„°ë¡œ ëŒì•„ê°€ê¸°
            </a>

            <div class="flex flex-col md:flex-row gap-4 items-center">
                <div class="flex-grow w-full">
                    <label class="block text-sm font-bold text-gray-700 mb-1">XPath ì…ë ¥:</label>
                    <div class="flex gap-2">
                        <input type="text" id="xpathInput" 
                               placeholder="//tagname[@attribute='value']" 
                               class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-lg"
                               onkeydown="if(event.key === 'Enter') runXPath()">
                        <button onclick="runXPath()" 
                                class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 font-bold transition whitespace-nowrap">
                            ì‹¤í–‰ & í™•ì¸
                        </button>
                    </div>
                </div>
                <div class="w-full md:w-auto min-w-[150px]">
                    <div class="text-sm font-bold text-gray-700 mb-1">ê²°ê³¼:</div>
                    <div id="resultCount" class="text-blue-600 font-mono text-lg font-bold">0ê°œ ë§¤ì¹­ë¨</div>
                </div>
            </div>
            <p class="text-center text-xs text-gray-500 mt-2">
                ìœ„ ì…ë ¥ì°½ì— XPathë¥¼ ì…ë ¥í•˜ë©´ ì•„ë˜ ì˜ˆì œ ì˜ì—­ì—ì„œ ë§¤ì¹­ëœ ìš”ì†Œê°€ <span class="text-red-500 font-bold">ë¹¨ê°„ í…Œë‘ë¦¬</span>ë¡œ í‘œì‹œë©ë‹ˆë‹¤.
            </p>
        </div>
    </div>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <div class="max-w-4xl mx-auto mt-48 mb-20 px-4 space-y-12">

        <!-- ì„¹ì…˜ 1: ê¸°ë³¸ & ì†ì„± -->
        <section id="sec-basics" class="bg-white p-6 rounded-lg shadow-md border border-gray-100">
            <h2 class="text-2xl font-bold mb-4 text-gray-800">1. ê¸°ë³¸ê¸° ë‹¤ì§€ê¸°: ì†ì„±ìœ¼ë¡œ ì°¾ê¸°</h2>
            
            <aside class="learning-guide">
                <h3 class="font-bold text-amber-700 mb-1">ğŸ“š í•µì‹¬ ë¬¸ë²• ê°€ì´ë“œ</h3>
                <ul class="list-disc list-inside space-y-1 text-sm">
                    <li><strong>ìƒëŒ€ ê²½ë¡œ:</strong> <code>//íƒœê·¸ëª…</code>ìœ¼ë¡œ ì‹œì‘í•˜ë©´ ë¬¸ì„œ ì–´ë””ì„œë“  ì°¾ìŠµë‹ˆë‹¤.</li>
                    <li><strong>ì†ì„± ì„ íƒ:</strong> <code>[@ì†ì„±ëª…='ê°’']</code> ëŒ€ê´„í˜¸ ì•ˆì— @ë¥¼ ë¶™ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.</li>
                    <li>ì˜ˆì‹œ: <code>//div[@id='login']</code></li>
                </ul>
            </aside>
            
            <div class="space-y-2 mb-4">
                <p class="text-sm font-bold text-gray-600">ğŸ¯ ë¯¸ì…˜:</p>
                <ul class="text-sm space-y-1 ml-4">
                    <li>1. IDê°€ 'target-id'ì¸ ìš”ì†Œë¥¼ ì°¾ìœ¼ì„¸ìš”.</li>
                    <li>2. nameì´ 'username'ì¸ ì…ë ¥ì°½ì„ ì°¾ìœ¼ì„¸ìš”.</li>
                </ul>
            </div>

            <div class="practice-area space-y-3">
                <div id="target-id" class="p-3 border bg-white shadow-sm rounded">ID: target-id</div>
                <div class="target-class p-3 border bg-white shadow-sm rounded">Class: target-class</div>
                <input type="text" name="username" placeholder="name='username'" class="border p-2 w-full rounded" readonly>
                <button data-role="submit" class="bg-gray-100 px-3 py-1 rounded border">Button (data-role='submit')</button>
            </div>

            <details class="mt-4">
                <summary class="text-xs text-blue-500 cursor-pointer hover:underline">ì •ë‹µ ë³´ê¸°</summary>
                <div class="mt-2 bg-slate-50 p-3 rounded text-xs font-mono text-slate-600">
                    //div[@id='target-id']<br>
                    //input[@name='username']
                </div>
            </details>
        </section>

        <!-- ì„¹ì…˜ 2: í…ìŠ¤íŠ¸ & ê³µë°± -->
        <section id="sec-text" class="bg-white p-6 rounded-lg shadow-md border border-gray-100">
            <h2 class="text-2xl font-bold mb-4 text-gray-800">2. í…ìŠ¤íŠ¸ ë‚´ìš©ìœ¼ë¡œ ì°¾ê¸°</h2>
            
            <aside class="learning-guide">
                <h3 class="font-bold text-amber-700 mb-1">ğŸ“š í•µì‹¬ ë¬¸ë²• ê°€ì´ë“œ</h3>
                <ul class="list-disc list-inside space-y-1 text-sm">
                    <li><strong>ì •í™•íˆ ì¼ì¹˜:</strong> <code>[text()='ë‚´ìš©']</code></li>
                    <li><strong>í¬í•¨ ì—¬ë¶€:</strong> <code>[contains(text(), 'ë¶€ë¶„ë‚´ìš©')]</code></li>
                    <li><strong>ê³µë°± ì œê±°:</strong> <code>[normalize-space()='ë‚´ìš©']</code> (ì•ë’¤ ê³µë°± ë¬´ì‹œ)</li>
                    <li><strong>í•˜ìœ„ í…ìŠ¤íŠ¸ í¬í•¨:</strong> <code>[contains(., 'ë‚´ìš©')]</code> (ìì‹ ìš”ì†Œ í…ìŠ¤íŠ¸ê¹Œì§€ ê²€ì‚¬)</li>
                </ul>
            </aside>

            <div class="space-y-2 mb-4">
                <p class="text-sm font-bold text-gray-600">ğŸ¯ ë¯¸ì…˜:</p>
                <ul class="text-sm space-y-1 ml-4">
                    <li>1. 'ì •í™•í•œ í…ìŠ¤íŠ¸'ë¼ê³  ì íŒ píƒœê·¸ë¥¼ ì°¾ìœ¼ì„¸ìš”.</li>
                    <li>2. 'ì¤‘ìš”í•œ'ì´ë¼ëŠ” ë‹¨ì–´ê°€ í¬í•¨ëœ píƒœê·¸ë¥¼ ì°¾ìœ¼ì„¸ìš”. (íƒœê·¸ê°€ ì„ì—¬ ìˆì–´ë„ ì°¾ì•„ì•¼ í•¨)</li>
                    <li>3. ê³µë°±ì´ ë§ì€ í…ìŠ¤íŠ¸ë¥¼ `normalize-space()`ë¡œ ì°¾ì•„ë³´ì„¸ìš”.</li>
                </ul>
            </div>
            
            <div class="practice-area space-y-2">
                <p class="p-2 border bg-white">ì •í™•í•œ í…ìŠ¤íŠ¸</p>
                <p class="p-2 border bg-white">ì´ ë¬¸ì¥ì€ <b>ì¤‘ìš”í•œ</b> ë‹¨ì–´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.</p>
                <p class="p-2 border bg-white whitespace-pre">
   ê³µë°±ì´    ë§ì€    í…ìŠ¤íŠ¸   
                </p>
                <span class="price p-2 border bg-white block">ê°€ê²©: 50,000ì›</span>
            </div>

            <details class="mt-4">
                <summary class="text-xs text-blue-500 cursor-pointer hover:underline">ì •ë‹µ ë³´ê¸°</summary>
                <div class="mt-2 bg-slate-50 p-3 rounded text-xs font-mono text-slate-600">
                    //p[text()='ì •í™•í•œ í…ìŠ¤íŠ¸']<br>
                    //p[contains(., 'ì¤‘ìš”í•œ')]  (text() ëŒ€ì‹  . ì‚¬ìš© ê¶Œì¥)<br>
                    //p[normalize-space()='ê³µë°±ì´ ë§ì€ í…ìŠ¤íŠ¸']
                </div>
            </details>
        </section>

        <!-- ì„¹ì…˜ 3: ì¸ë±ìŠ¤ & ê·¸ë£¹í•‘ í•¨ì • -->
        <section id="sec-index" class="bg-white p-6 rounded-lg shadow-md border border-gray-100">
            <h2 class="text-2xl font-bold mb-4 text-gray-800">3. ìˆœì„œ(Index)ì™€ ê·¸ë£¹í•‘ì˜ í•¨ì •</h2>
            
            <aside class="learning-guide">
                <h3 class="font-bold text-amber-700 mb-1">ğŸ“š í•µì‹¬ ë¬¸ë²• ê°€ì´ë“œ</h3>
                <ul class="list-disc list-inside space-y-1 text-sm">
                    <li><strong>ê¸°ë³¸ ì¸ë±ìŠ¤:</strong> <code>[1]</code> (ì²« ë²ˆì§¸), <code>[last()]</code> (ë§ˆì§€ë§‰)</li>
                    <li><strong>âš ï¸ ê·¸ë£¹í•‘ ì£¼ì˜:</strong> 
                        <ul class="ml-4 list-disc text-red-600">
                            <li><code>//ul/li[1]</code> : ê° ulë§ˆë‹¤ ì²« ë²ˆì§¸ lië¥¼ ëª¨ë‘ ì°¾ìŒ (ì—¬ëŸ¬ ê°œ)</li>
                            <li><code>(//ul/li)[1]</code> : ì „ì²´ li ì¤‘ì—ì„œ ë§¨ ì²« ë²ˆì§¸ í•˜ë‚˜ë§Œ ì°¾ìŒ (ë‹¨ 1ê°œ)</li>
                        </ul>
                    </li>
                </ul>
            </aside>

            <div class="space-y-2 mb-4">
                <p class="text-sm font-bold text-gray-600">ğŸ¯ ë¯¸ì…˜:</p>
                <ul class="text-sm space-y-1 ml-4">
                    <li>1. `//ul/li[1]`ì„ ì…ë ¥í•˜ì—¬ ê²°ê³¼ê°€ ëª‡ ê°œì¸ì§€ í™•ì¸í•˜ì„¸ìš”.</li>
                    <li>2. `(//ul/li)[1]`ì„ ì…ë ¥í•˜ì—¬ ê²°ê³¼ê°€ 1ê°œì¸ì§€ í™•ì¸í•˜ì„¸ìš”. (ì‚¬ê³¼)</li>
                </ul>
            </div>
            
            <div class="practice-area grid grid-cols-2 gap-4">
                <div class="border p-2 bg-white">
                    <h4 class="font-bold mb-2 border-b">ê³¼ì¼ ëª©ë¡</h4>
                    <ul class="list-disc pl-5">
                        <li>ì‚¬ê³¼ (1ë²ˆ)</li>
                        <li>ë°”ë‚˜ë‚˜</li>
                    </ul>
                </div>
                <div class="border p-2 bg-white">
                    <h4 class="font-bold mb-2 border-b">ì•¼ì±„ ëª©ë¡</h4>
                    <ul class="list-disc pl-5">
                        <li>ë‹¹ê·¼ (1ë²ˆ)</li>
                        <li>ì˜¤ì´</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- ì„¹ì…˜ 4: ì¶• (Axes) -->
        <section id="sec-axes" class="bg-white p-6 rounded-lg shadow-md border border-gray-100">
            <h2 class="text-2xl font-bold mb-4 text-gray-800">4. ê¸°ì¤€ì  ì´ë™í•˜ê¸° (ì¶• Axes)</h2>
            
            <aside class="learning-guide">
                <h3 class="font-bold text-amber-700 mb-1">ğŸ“š í•µì‹¬ ë¬¸ë²• ê°€ì´ë“œ</h3>
                <p class="text-sm mb-2">í˜„ì¬ ì„ íƒí•œ ìš”ì†Œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê°€ì¡± ê´€ê³„ë¥¼ íƒ€ê³  ì´ë™í•©ë‹ˆë‹¤.</p>
                <ul class="list-disc list-inside space-y-1 text-sm">
                    <li><code>parent::tag</code> : ë¶€ëª¨ë¡œ ì´ë™</li>
                    <li><code>following-sibling::tag</code> : ë‚´ ë’¤ì— ìˆëŠ” í˜•ì œ</li>
                    <li><code>preceding-sibling::tag</code> : ë‚´ ì•ì— ìˆëŠ” í˜•ì œ</li>
                    <li><code>ancestor::tag</code> : ì¡°ìƒ(ë¶€ëª¨ì˜ ë¶€ëª¨...) ì°¾ê¸°</li>
                </ul>
            </aside>

            <div class="space-y-2 mb-4">
                <p class="text-sm font-bold text-gray-600">ğŸ¯ ë¯¸ì…˜:</p>
                <ul class="text-sm space-y-1 ml-4">
                    <li>1. 'ê¸°ì¤€(Target)'ì„ ë¨¼ì € ì°¾ê³ , ê·¸ ë’¤ì— ìˆëŠ” 'í˜•ì œ 1'ì„ <code>following-sibling</code>ìœ¼ë¡œ ì°¾ìœ¼ì„¸ìš”.</li>
                    <li>2. 'ê¸°ì¤€(Target)'ì˜ ë¶€ëª¨ divë¥¼ <code>parent</code>ë¡œ ì°¾ìœ¼ì„¸ìš”.</li>
                </ul>
            </div>
            
            <div class="practice-area p-4 bg-blue-50">
                <div id="grandparent" class="p-4 border border-blue-300 rounded bg-white">
                    <span class="text-xs text-gray-400">Grandparent</span>
                    <div id="parent" class="p-4 mt-2 border border-green-300 rounded bg-green-50">
                        <span class="text-xs text-gray-400">Parent</span>
                        <h3 class="font-bold text-lg bg-yellow-200 inline-block px-1">ê¸°ì¤€(Target)</h3>
                        <p class="text-sm text-gray-500 mt-1">í˜•ì œ 1 (Next Sibling)</p>
                        <p class="text-sm text-gray-500">í˜•ì œ 2</p>
                    </div>
                </div>
            </div>

            <details class="mt-4">
                <summary class="text-xs text-blue-500 cursor-pointer hover:underline">ì •ë‹µ ë³´ê¸°</summary>
                <div class="mt-2 bg-slate-50 p-3 rounded text-xs font-mono text-slate-600">
                    //h3[text()='ê¸°ì¤€(Target)']/following-sibling::p[1]<br>
                    //h3[contains(text(), 'ê¸°ì¤€')]/parent::div
                </div>
            </details>
        </section>

        <!-- ì„¹ì…˜ 5: ë…¼ë¦¬ ì—°ì‚°ì -->
        <section id="sec-logic" class="bg-white p-6 rounded-lg shadow-md border border-gray-100">
            <h2 class="text-2xl font-bold mb-4 text-gray-800">5. ë³µí•© ì¡°ê±´ (AND / OR / NOT)</h2>
            
            <aside class="learning-guide">
                <h3 class="font-bold text-amber-700 mb-1">ğŸ“š í•µì‹¬ ë¬¸ë²• ê°€ì´ë“œ</h3>
                <ul class="list-disc list-inside space-y-1 text-sm">
                    <li><strong>AND:</strong> <code>[@class='a' and @id='b']</code> (ë‘˜ ë‹¤ ë§Œì¡±)</li>
                    <li><strong>OR:</strong> <code>[@type='text' or @type='email']</code> (í•˜ë‚˜ë¼ë„ ë§Œì¡±)</li>
                    <li><strong>NOT:</strong> <code>[not(@disabled)]</code>, <code>[not(contains(@class, 'hide'))]</code></li>
                </ul>
            </aside>

            <div class="space-y-2 mb-4">
                <p class="text-sm font-bold text-gray-600">ğŸ¯ ë¯¸ì…˜:</p>
                <ul class="text-sm space-y-1 ml-4">
                    <li>1. í´ë˜ìŠ¤ê°€ 'box'ì´ë©´ì„œ 'red'ì¸ ìš”ì†Œë¥¼ ì°¾ìœ¼ì„¸ìš”.</li>
                    <li>2. 'blue' ë°•ìŠ¤ ì¤‘ì—ì„œ 'small'ì´ <strong>ì•„ë‹Œ(not)</strong> ê²ƒì„ ì°¾ìœ¼ì„¸ìš”.</li>
                </ul>
            </div>
            
            <div class="practice-area grid grid-cols-2 gap-2">
                <div class="box red large p-2 border bg-red-50">box red large</div>
                <div class="box red small p-2 border bg-red-50 text-xs">box red small</div>
                <div class="box blue large p-2 border bg-blue-50">box blue large</div>
                <div class="box blue small p-2 border bg-blue-50 text-xs">box blue small</div>
            </div>

            <details class="mt-4">
                <summary class="text-xs text-blue-500 cursor-pointer hover:underline">ì •ë‹µ ë³´ê¸°</summary>
                <div class="mt-2 bg-slate-50 p-3 rounded text-xs font-mono text-slate-600">
                    //div[contains(@class, 'box') and contains(@class, 'red')]<br>
                    //div[contains(@class, 'blue') and not(contains(@class, 'small'))]
                </div>
            </details>
        </section>

    </div>

    <!-- ìŠ¤í¬ë¦½íŠ¸: XPath ì‹¤í–‰ ë¡œì§ -->
    <script>
        function runXPath() {
            const input = document.getElementById('xpathInput').value;
            const resultDisplay = document.getElementById('resultCount');
            
            // 1. ê¸°ì¡´ í•˜ì´ë¼ì´íŠ¸ ì œê±°
            document.querySelectorAll('.highlight').forEach(el => el.classList.remove('highlight'));

            if (!input.trim()) {
                resultDisplay.innerText = "0ê°œ ë§¤ì¹­ë¨";
                resultDisplay.className = "text-gray-500 font-mono text-lg font-bold";
                return;
            }

            try {
                // 2. XPath í‰ê°€
                const nodes = [];
                const result = document.evaluate(input, document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
                
                for (let i = 0; i < result.snapshotLength; i++) {
                    nodes.push(result.snapshotItem(i));
                }

                // 3. ê²°ê³¼ í‘œì‹œ ë° í•˜ì´ë¼ì´íŠ¸
                if (nodes.length > 0) {
                    nodes.forEach(node => {
                        if (node.nodeType === Node.ELEMENT_NODE) {
                            node.classList.add('highlight');
                            // ì²« ë²ˆì§¸ ìš”ì†Œë¡œ ìŠ¤í¬ë¡¤ ì´ë™ (ì„ íƒ ì‚¬í•­)
                            // nodes[0].scrollIntoView({ behavior: "smooth", block: "center" });
                        } else if (node.nodeType === Node.TEXT_NODE) {
                            // í…ìŠ¤íŠ¸ ë…¸ë“œê°€ ì„ íƒëœ ê²½ìš° ë¶€ëª¨ë¥¼ í•˜ì´ë¼ì´íŠ¸
                            node.parentElement.classList.add('highlight');
                        }
                    });
                    resultDisplay.innerText = `${nodes.length}ê°œ ë§¤ì¹­ë¨!`;
                    resultDisplay.className = "text-green-600 font-mono text-lg font-bold";
                } else {
                    resultDisplay.innerText = "0ê°œ ë§¤ì¹­ë¨";
                    resultDisplay.className = "text-red-500 font-mono text-lg font-bold";
                }

            } catch (e) {
                // ë¬¸ë²• ì˜¤ë¥˜ ì²˜ë¦¬
                resultDisplay.innerText = "XPath ë¬¸ë²• ì˜¤ë¥˜";
                resultDisplay.className = "text-red-600 font-mono text-lg font-bold";
                console.error(e);
                alert("ìœ íš¨í•˜ì§€ ì•Šì€ XPath í‘œí˜„ì‹ì…ë‹ˆë‹¤.\n\n" + e.message);
            }
        }
    </script>
</body>
</html>